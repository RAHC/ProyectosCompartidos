<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <h:outputScript library="javascript" name="Locale.js"/>
    </h:head>

    <body>

        <ui:composition template="./SisePlantilla.xhtml">

            <ui:define name="titles">
                REGISTRO DE AFECTACIÓN
            </ui:define>

            <ui:define name="content">
                <h:form prependId="false">
                    <p:accordionPanel activeIndex="0,1,2" multiple="true">
                        <p:tab title="Datos de Afectación">
                            <h:panelGrid columns="3">
                                <h:outputLabel value="Categoría de afectación" for="categoria"/>
                                <p:selectOneMenu id="categoria" label="Categoría de Afectación" required="true" value="">
                                    <f:selectItem itemLabel="Seleccione una Categoría de Afectación" itemValue="" />
                                    <f:selectItems value="" var="dept" itemLabel="" itemValue="" />
                                    <p:ajax update="tipo"/>
                                </p:selectOneMenu>  
                                <h:message for="categoria"/>

                                <h:outputLabel value="Tipo de afectación" for="tipo"/>
                                <p:selectOneMenu id="tipo" label="Tipo de Afectación" required="true" value="">
                                    <f:selectItem itemLabel="Seleccione un Tipo de Afectación" itemValue="" />
                                    <f:selectItems value="" var="dept" itemLabel="" itemValue="" />
                                </p:selectOneMenu>  
                                <h:message for="tipo"/>

                                <h:outputLabel value="Cantidad" for="cantidad"/>
                                <p:inputText id="cantidad" label="Cantidad" value=""
                                             required="true" />
                                <h:message for="cantidad"/>  

                                <h:outputLabel value="Fecha y Hora" for="fecha"/>                                
                                <p:calendar id="fecha"  showOn="button" navigator="true" pattern="dd/MM/yyyy HH:mm"  required="true" locale="es"/>
                                <h:message for="fecha"/>    

                                <h:outputLabel value="Descripción" for="descripcion"/>  
                                <p:inputTextarea id="descripcion" autoResize="true"/>
                                <h:panelGroup/>

                                <h:outputLabel value="Institución que atiende" for="institucion"/>
                                <p:selectOneMenu id="institucion" label="Institución que atiende" required="true" value="">
                                    <f:selectItem itemLabel="Seleccione una Institución" itemValue="" />
                                    <f:selectItems value="" var="dept" itemLabel="" itemValue="" />
                                </p:selectOneMenu>  
                                <h:message for="tipo"/>  


                                <h:outputLabel value="Daños Materiales" for="danos"/>  
                                <p:inputTextarea id="danos"/>
                                <h:panelGroup/>

                            </h:panelGrid>

                        </p:tab>

                        <p:tab title="Ubicación">
                            <h:panelGrid columns="3">
                                <h:outputLabel value="Departamento" for="departamento"/>
                                <p:selectOneMenu id="departamento" label="Departamento" required="true" >
                                    <f:selectItem itemLabel="Seleccione un Departamento" itemValue="" />
                                    <f:selectItems value="" var="dept" itemLabel="" itemValue="" />
                                    <p:ajax update="municipio"/>
                                </p:selectOneMenu>  
                                <h:message for="departamento"/>

                                <h:outputLabel value="Municipio" for="municipio"/>
                                <p:selectOneMenu id="municipio" label="Municipio" required="true" value="">
                                    <f:selectItem itemLabel="Seleccione un Municipio" itemValue="" /> 
                                    <f:selectItems value="" var="munic" itemLabel="" itemValue="" />
                                </p:selectOneMenu>
                                <h:message for="municipio"/>   


                                <h:outputLabel value="Cantón" for="canton"/>
                                <p:selectOneMenu id="canton" label="Canton" >
                                </p:selectOneMenu>
                                <h:message for="canton"/>  

                                <h:outputLabel value="Caserío" for="caserio"/>
                                <p:selectOneMenu id="caserio" label="Caserío" >
                                </p:selectOneMenu>
                                <h:message for="caserio"/>
                            </h:panelGrid>
                        </p:tab>

                        <p:tab title="Datos de Personas">
                            <p:commandButton id="detallar" value="Agregar Detalle" ajax="false"/>

                            <p:dataTable id="inac" value="" var="pe" 
                                         paginator="true" rows="5"
                                         paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                                         rowsPerPageTemplate="5,10,15"
                                         >  

                                <p:column>
                                    <f:facet name="header">Causa</f:facet>
                                </p:column>

                                <p:column>
                                    <f:facet name="header">Nombres/Apellidos</f:facet>   
                                </p:column>

                                <p:column>
                                    <f:facet name="header">Sexo</f:facet>  
                                </p:column>

                                <p:column>
                                    <f:facet name="header">Discapacitado</f:facet>  
                                </p:column>   

                                <p:column>
                                    <f:facet name="header">Descripción</f:facet>  
                                </p:column> 

                                <p:column>
                                    <f:facet name="header">Centro Asistencial</f:facet>  
                                </p:column>       

                                <p:column>
                                    <f:facet name="header">+</f:facet>  
                                </p:column>                                     
                            </p:dataTable>
                        </p:tab>
                    </p:accordionPanel>
                </h:form>
            </ui:define>

        </ui:composition>

    </body>
</html>
